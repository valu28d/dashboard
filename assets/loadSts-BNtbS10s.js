import{a4 as Qe,b as F,e as ye,L as qe,N as Se,S as Ee,t as Ge,v as Je,f as Xe,R as Ze,P as Ye,h as et,c as ne,T as C,r as tt,i as st,E as rt,j as nt,k as ot,l as it,p as at,m as ct,A as dt,n as ut,o as lt,q as mt,D as pt,u as ht,w as ft,x as gt,y as yt,z as St,B as Et,F as bt,G as Pt,H as wt,I as Tt,J as xt,a as At,K as Ct,M as Rt,O as Dt,Q as It,U as _t,V as Nt,W as $t,X as vt,Y as kt,Z as Mt,_ as Ft,$ as Ot,a0 as Ut,a1 as zt,a2 as Lt,a3 as jt,C as Wt,g as Kt}from"./index-ryMBH-bu.js";import{f as j,t as be,d as Ht,n as Pe,s as Vt,F as Bt,g as Qt,r as qt}from"./index-igOx3zyl.js";import{t as Gt}from"./toUtf8.browser-CyauOOnS.js";function oe(s){return encodeURIComponent(s).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}const W="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",K="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",H="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",we="(\\d?\\d)",Te="(\\d{4})",Jt=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),Xt=new RegExp(`^${W}, ${we} ${K} ${Te} ${H} GMT$`),Zt=new RegExp(`^${W}, ${we}-${K}-(\\d\\d) ${H} GMT$`),Yt=new RegExp(`^${W} ${K} ( [1-9]|\\d\\d) ${H} ${Te}$`),es=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ts=s=>{if(s==null)return;let e=NaN;if(typeof s=="number")e=s;else if(typeof s=="string"){if(!/^-?\d*\.?\d+$/.test(s))throw new TypeError("parseEpochTimestamp - numeric string invalid.");e=Number.parseFloat(s)}else typeof s=="object"&&s.tag===1&&(e=s.value);if(isNaN(e)||Math.abs(e)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(e*1e3))},ss=s=>{if(s==null)return;if(typeof s!="string")throw new TypeError("RFC3339 timestamps must be strings");const e=Jt.exec(s);if(!e)throw new TypeError(`Invalid RFC3339 timestamp format ${s}`);const[,t,r,n,o,i,a,,c,u]=e;A(r,1,12),A(n,1,31),A(o,0,23),A(i,0,59),A(a,0,60);const l=new Date(Date.UTC(Number(t),Number(r)-1,Number(n),Number(o),Number(i),Number(a),Number(c)?Math.round(parseFloat(`0.${c}`)*1e3):0));if(l.setUTCFullYear(Number(t)),u.toUpperCase()!="Z"){const[,f,w,P]=/([+-])(\d\d):(\d\d)/.exec(u)||[void 0,"+",0,0],R=f==="-"?1:-1;l.setTime(l.getTime()+R*(Number(w)*60*60*1e3+Number(P)*60*1e3))}return l},rs=s=>{if(s==null)return;if(typeof s!="string")throw new TypeError("RFC7231 timestamps must be strings.");let e,t,r,n,o,i,a,c;if((c=Xt.exec(s))?[,e,t,r,n,o,i,a]=c:(c=Zt.exec(s))?([,e,t,r,n,o,i,a]=c,r=(Number(r)+1900).toString()):(c=Yt.exec(s))&&([,t,e,n,o,i,a,r]=c),r&&i){const u=Date.UTC(Number(r),es.indexOf(t),Number(e),Number(n),Number(o),Number(i),a?Math.round(parseFloat(`0.${a}`)*1e3):0);A(e,1,31),A(n,0,23),A(o,0,59),A(i,0,60);const l=new Date(u);return l.setUTCFullYear(Number(r)),l}throw new TypeError(`Invalid RFC7231 date-time value ${s}.`)};function A(s,e,t){const r=Number(s);if(r<e||r>t)throw new Error(`Value ${r} out of range [${e}, ${t}]`)}const ns=s=>{const e=s.length,t=[];let r=!1,n,o=0;for(let i=0;i<e;++i){const a=s[i];switch(a){case'"':n!=="\\"&&(r=!r);break;case",":r||(t.push(s.slice(o,i)),o=i+1);break}n=a}return t.push(s.slice(o)),t.map(i=>{i=i.trim();const a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})};class os extends Qe{settings;constructor(e){super(),this.settings=e}read(e,t){const r=F.of(e);if(r.isListSchema())return ns(t).map(n=>this.read(r.getValueSchema(),n));if(r.isBlobSchema())return(this.serdeContext?.base64Decoder??j)(t);if(r.isTimestampSchema())switch(ye(r,this.settings)){case 5:return ss(t);case 6:return rs(t);case 7:return ts(t);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",t),new Date(t)}if(r.isStringSchema()){const n=r.getMergedTraits().mediaType;let o=t;if(n)return r.getMergedTraits().httpHeader&&(o=this.base64ToUtf8(o)),(n==="application/json"||n.endsWith("+json"))&&(o=qe.from(o)),o}return r.isNumericSchema()?Number(t):r.isBigIntegerSchema()?BigInt(t):r.isBigDecimalSchema()?new Se(t,"bigDecimal"):r.isBooleanSchema()?String(t).toLowerCase()==="true":t}base64ToUtf8(e){return(this.serdeContext?.utf8Encoder??Gt)((this.serdeContext?.base64Decoder??j)(e))}}const xe=s=>{const e="#text";for(const t in s)s.hasOwnProperty(t)&&s[t][e]!==void 0?s[t]=s[t][e]:typeof s[t]=="object"&&s[t]!==null&&(s[t]=xe(s[t]));return s};let U;function is(s){U||(U=new DOMParser);const e=U.parseFromString(s,"application/xml");if(e.getElementsByTagName("parsererror").length>0)throw new Error("DOMParser XML parsing error.");const t=r=>{if(r.nodeType===Node.TEXT_NODE&&r.textContent?.trim())return r.textContent;if(r.nodeType===Node.ELEMENT_NODE){const n=r;if(n.attributes.length===0&&n.childNodes.length===0)return"";const o={},i=Array.from(n.attributes);for(const c of i)o[`${c.name}`]=c.value;const a=Array.from(n.childNodes);for(const c of a){const u=t(c);if(u!=null){const l=c.nodeName;if(a.length===1&&i.length===0&&l==="#text")return u;o[l]?Array.isArray(o[l])?o[l].push(u):o[l]=[o[l],u]:o[l]=u}else if(a.length===1&&i.length===0)return n.textContent}return o}return null};return{[e.documentElement.nodeName]:t(e.documentElement)}}class as extends Ee{settings;stringDeserializer;constructor(e){super(),this.settings=e,this.stringDeserializer=new os(e)}setSerdeContext(e){this.serdeContext=e,this.stringDeserializer.setSerdeContext(e)}read(e,t,r){const n=F.of(e),o=n.getMemberSchemas();if(n.isStructSchema()&&n.isMemberSchema()&&!!Object.values(o).find(u=>!!u.getMemberTraits().eventPayload)){const u={},l=Object.keys(o)[0];return o[l].isBlobSchema()?u[l]=t:u[l]=this.read(o[l],t),u}const a=(this.serdeContext?.utf8Encoder??Ge)(t),c=this.parseXml(a);return this.readSchema(e,r?c[r]:c)}readSchema(e,t){const r=F.of(e);if(r.isUnitSchema())return;const n=r.getMergedTraits();if(r.isListSchema()&&!Array.isArray(t))return this.readSchema(r,[t]);if(t==null)return t;if(typeof t=="object"){const o=!!n.sparse,i=!!n.xmlFlattened;if(r.isListSchema()){const c=r.getValueSchema(),u=[],l=c.getMergedTraits().xmlName??"member",f=i?t:(t[0]??t)[l],w=Array.isArray(f)?f:[f];for(const P of w)(P!=null||o)&&u.push(this.readSchema(c,P));return u}const a={};if(r.isMapSchema()){const c=r.getKeySchema(),u=r.getValueSchema();let l;i?l=Array.isArray(t)?t:[t]:l=Array.isArray(t.entry)?t.entry:[t.entry];const f=c.getMergedTraits().xmlName??"key",w=u.getMergedTraits().xmlName??"value";for(const P of l){const R=P[f],O=P[w];(O!=null||o)&&(a[R]=this.readSchema(u,O))}return a}if(r.isStructSchema()){for(const[c,u]of r.structIterator()){const l=u.getMergedTraits(),f=l.httpPayload?l.xmlName??u.getName():u.getMemberTraits().xmlName??c;t[f]!=null&&(a[c]=this.readSchema(u,t[f]))}return a}if(r.isDocumentSchema())return t;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${r.getName(!0)}`)}return r.isListSchema()?[]:r.isMapSchema()||r.isStructSchema()?{}:this.stringDeserializer.read(r,t)}parseXml(e){if(e.length){let t;try{t=is(e)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:e}),i}const r="#text",n=Object.keys(t)[0],o=t[n];return o[r]&&(o[n]=o[r],delete o[r]),xe(o)}return{}}}class cs extends Ee{settings;buffer;constructor(e){super(),this.settings=e}write(e,t,r=""){this.buffer===void 0&&(this.buffer="");const n=F.of(e);if(r&&!r.endsWith(".")&&(r+="."),n.isBlobSchema())(typeof t=="string"||t instanceof Uint8Array)&&(this.writeKey(r),this.writeValue((this.serdeContext?.base64Encoder??be)(t)));else if(n.isBooleanSchema()||n.isNumericSchema()||n.isStringSchema())t!=null?(this.writeKey(r),this.writeValue(String(t))):n.isIdempotencyToken()&&(this.writeKey(r),this.writeValue(Je()));else if(n.isBigIntegerSchema())t!=null&&(this.writeKey(r),this.writeValue(String(t)));else if(n.isBigDecimalSchema())t!=null&&(this.writeKey(r),this.writeValue(t instanceof Se?t.string:String(t)));else if(n.isTimestampSchema()){if(t instanceof Date)switch(this.writeKey(r),ye(n,this.settings)){case 5:this.writeValue(t.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue(Ht(t));break;case 7:this.writeValue(String(t.getTime()/1e3));break}}else{if(n.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${n.getName(!0)}`);if(n.isListSchema()){if(Array.isArray(t))if(t.length===0)this.settings.serializeEmptyLists&&(this.writeKey(r),this.writeValue(""));else{const o=n.getValueSchema(),i=this.settings.flattenLists||n.getMergedTraits().xmlFlattened;let a=1;for(const c of t){if(c==null)continue;const u=this.getKey("member",o.getMergedTraits().xmlName),l=i?`${r}${a}`:`${r}${u}.${a}`;this.write(o,c,l),++a}}}else if(n.isMapSchema()){if(t&&typeof t=="object"){const o=n.getKeySchema(),i=n.getValueSchema(),a=n.getMergedTraits().xmlFlattened;let c=1;for(const[u,l]of Object.entries(t)){if(l==null)continue;const f=this.getKey("key",o.getMergedTraits().xmlName),w=a?`${r}${c}.${f}`:`${r}entry.${c}.${f}`,P=this.getKey("value",i.getMergedTraits().xmlName),R=a?`${r}${c}.${P}`:`${r}entry.${c}.${P}`;this.write(o,u,w),this.write(i,l,R),++c}}}else if(n.isStructSchema()){if(t&&typeof t=="object")for(const[o,i]of Xe(n,t)){if(t[o]==null&&!i.isIdempotencyToken())continue;const a=this.getKey(o,i.getMergedTraits().xmlName),c=`${r}${a}`;this.write(i,t[o],c)}}else if(!n.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${n.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");const e=this.buffer;return delete this.buffer,e}getKey(e,t){const r=t??e;return this.settings.capitalizeKeys?r[0].toUpperCase()+r.slice(1):r}writeKey(e){e.endsWith(".")&&(e=e.slice(0,e.length-1)),this.buffer+=`&${oe(e)}=`}writeValue(e){this.buffer+=oe(e)}}class ds extends Ze{options;serializer;deserializer;mixin=new Ye;constructor(e){super({defaultNamespace:e.defaultNamespace}),this.options=e;const t={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:e.xmlNamespace,serviceNamespace:e.defaultNamespace,serializeEmptyLists:!0};this.serializer=new cs(t),this.deserializer=new as(t)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(e){this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(e,t,r){const n=await super.serializeRequest(e,t,r);n.path.endsWith("/")||(n.path+="/"),Object.assign(n.headers,{"content-type":"application/x-www-form-urlencoded"}),(et(e.input)==="unit"||!n.body)&&(n.body="");const o=e.name.split("#")[1]??e.name;return n.body=`Action=${o}&Version=${this.options.version}`+n.body,n.body.endsWith("&")&&(n.body=n.body.slice(-1)),n}async deserializeResponse(e,t,r){const n=this.deserializer,o=F.of(e.output),i={};if(r.statusCode>=300){const f=await ne(r.body,t);f.byteLength>0&&Object.assign(i,await n.read(15,f)),await this.handleError(e,t,r,i,this.deserializeMetadata(r))}for(const f in r.headers){const w=r.headers[f];delete r.headers[f],r.headers[f.toLowerCase()]=w}const a=e.name.split("#")[1]??e.name,c=o.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,u=await ne(r.body,t);return u.byteLength>0&&Object.assign(i,await n.read(o,u,c)),{$metadata:this.deserializeMetadata(r),...i}}useNestedResult(){return!0}async handleError(e,t,r,n,o){const i=this.loadQueryErrorCode(r,n)??"Unknown",a=this.loadQueryError(n),c=this.loadQueryErrorMessage(n);a.message=c,a.Error={Type:a.Type,Code:a.Code,Message:c};const{errorSchema:u,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,r,a,o,this.mixin.findQueryCompatibleError),f=F.of(u),w=C.for(u[1]).getErrorCtor(u)??Error,P=new w(c),R={Type:a.Error.Type,Code:a.Error.Code,Error:a.Error};for(const[O,se]of f.structIterator()){const re=se.getMergedTraits().xmlName??O,Be=a[re]??n[re];R[O]=this.deserializer.readSchema(se,Be)}throw this.mixin.decorateServiceException(Object.assign(P,l,{$fault:f.getMergedTraits().error,message:c},R),n)}loadQueryErrorCode(e,t){const r=(t.Errors?.[0]?.Error??t.Errors?.Error??t.Error)?.Code;if(r!==void 0)return r;if(e.statusCode==404)return"NotFound"}loadQueryError(e){return e.Errors?.[0]?.Error??e.Errors?.Error??e.Error}loadQueryErrorMessage(e){const t=this.loadQueryError(e);return t?.message??t?.Message??e.message??e.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}const us=async(s,e,t)=>({operation:st(e).operation,region:await Pe(s.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function ls(s){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:s.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}function ms(s){return{schemeId:"smithy.api#noAuth"}}const ps=s=>{const e=[];switch(s.operation){case"AssumeRoleWithWebIdentity":{e.push(ms());break}default:e.push(ls(s))}return e},hs=s=>Object.assign(s,{stsClientCtor:Me}),fs=s=>{const e=hs(s),t=tt(e);return Object.assign(t,{authSchemePreference:Pe(s.authSchemePreference??[])})},gs=s=>Object.assign(s,{useDualstackEndpoint:s.useDualstackEndpoint??!1,useFipsEndpoint:s.useFipsEndpoint??!1,useGlobalEndpoint:s.useGlobalEndpoint??!1,defaultSigningName:"sts"}),ys={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Ss="3.953.0",Es={version:Ss},bs=s=>new TextEncoder().encode(s),Ps=s=>{if(typeof s=="string")return s;if(typeof s!="object"||typeof s.byteOffset!="number"||typeof s.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(s)},Ae="required",d="type",m="fn",p="argv",I="ref",ie=!1,z=!0,D="booleanEquals",y="stringEquals",Ce="sigv4",Re="sts",De="us-east-1",g="endpoint",ae="https://sts.{Region}.{PartitionResult#dnsSuffix}",T="tree",M="error",V="getAttr",ce={[Ae]:!1,[d]:"string"},L={[Ae]:!0,default:!1,[d]:"boolean"},Ie={[I]:"Endpoint"},de={[m]:"isSet",[p]:[{[I]:"Region"}]},S={[I]:"Region"},ue={[m]:"aws.partition",[p]:[S],assign:"PartitionResult"},_e={[I]:"UseFIPS"},Ne={[I]:"UseDualStack"},E={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:Ce,signingName:Re,signingRegion:De}]},headers:{}},b={},le={conditions:[{[m]:y,[p]:[S,"aws-global"]}],[g]:E,[d]:g},$e={[m]:D,[p]:[_e,!0]},ve={[m]:D,[p]:[Ne,!0]},me={[m]:V,[p]:[{[I]:"PartitionResult"},"supportsFIPS"]},ke={[I]:"PartitionResult"},pe={[m]:D,[p]:[!0,{[m]:V,[p]:[ke,"supportsDualStack"]}]},he=[{[m]:"isSet",[p]:[Ie]}],fe=[$e],ge=[ve],ws={parameters:{Region:ce,UseDualStack:L,UseFIPS:L,Endpoint:ce,UseGlobalEndpoint:L},rules:[{conditions:[{[m]:D,[p]:[{[I]:"UseGlobalEndpoint"},z]},{[m]:"not",[p]:he},de,ue,{[m]:D,[p]:[_e,ie]},{[m]:D,[p]:[Ne,ie]}],rules:[{conditions:[{[m]:y,[p]:[S,"ap-northeast-1"]}],endpoint:E,[d]:g},{conditions:[{[m]:y,[p]:[S,"ap-south-1"]}],endpoint:E,[d]:g},{conditions:[{[m]:y,[p]:[S,"ap-southeast-1"]}],endpoint:E,[d]:g},{conditions:[{[m]:y,[p]:[S,"ap-southeast-2"]}],endpoint:E,[d]:g},le,{conditions:[{[m]:y,[p]:[S,"ca-central-1"]}],endpoint:E,[d]:g},{conditions:[{[m]:y,[p]:[S,"eu-central-1"]}],endpoint:E,[d]:g},{conditions:[{[m]:y,[p]:[S,"eu-north-1"]}],endpoint:E,[d]:g},{conditions:[{[m]:y,[p]:[S,"eu-west-1"]}],endpoint:E,[d]:g},{conditions:[{[m]:y,[p]:[S,"eu-west-2"]}],endpoint:E,[d]:g},{conditions:[{[m]:y,[p]:[S,"eu-west-3"]}],endpoint:E,[d]:g},{conditions:[{[m]:y,[p]:[S,"sa-east-1"]}],endpoint:E,[d]:g},{conditions:[{[m]:y,[p]:[S,De]}],endpoint:E,[d]:g},{conditions:[{[m]:y,[p]:[S,"us-east-2"]}],endpoint:E,[d]:g},{conditions:[{[m]:y,[p]:[S,"us-west-1"]}],endpoint:E,[d]:g},{conditions:[{[m]:y,[p]:[S,"us-west-2"]}],endpoint:E,[d]:g},{endpoint:{url:ae,properties:{authSchemes:[{name:Ce,signingName:Re,signingRegion:"{Region}"}]},headers:b},[d]:g}],[d]:T},{conditions:he,rules:[{conditions:fe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[d]:M},{conditions:ge,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[d]:M},{endpoint:{url:Ie,properties:b,headers:b},[d]:g}],[d]:T},{conditions:[de],rules:[{conditions:[ue],rules:[{conditions:[$e,ve],rules:[{conditions:[{[m]:D,[p]:[z,me]},pe],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:b,headers:b},[d]:g}],[d]:T},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[d]:M}],[d]:T},{conditions:fe,rules:[{conditions:[{[m]:D,[p]:[me,z]}],rules:[{conditions:[{[m]:y,[p]:[{[m]:V,[p]:[ke,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:b,headers:b},[d]:g},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:b,headers:b},[d]:g}],[d]:T},{error:"FIPS is enabled but this partition does not support FIPS",[d]:M}],[d]:T},{conditions:ge,rules:[{conditions:[pe],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:b,headers:b},[d]:g}],[d]:T},{error:"DualStack is enabled but this partition does not support DualStack",[d]:M}],[d]:T},le,{endpoint:{url:ae,properties:b,headers:b},[d]:g}],[d]:T}],[d]:T},{error:"Invalid Configuration: Missing Region",[d]:M}]},Ts=ws,xs=new rt({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),As=(s,e={})=>xs.get(s,()=>nt(Ts,{endpointParams:s,logger:e.logger}));it.aws=ot;const Cs=s=>({apiVersion:"2011-06-15",base64Decoder:s?.base64Decoder??j,base64Encoder:s?.base64Encoder??be,disableHostPrefix:s?.disableHostPrefix??!1,endpointProvider:s?.endpointProvider??As,extensions:s?.extensions??[],httpAuthSchemeProvider:s?.httpAuthSchemeProvider??ps,httpAuthSchemes:s?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new dt},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new ut}],logger:s?.logger??new ct,protocol:s?.protocol??ds,protocolSettings:s?.protocolSettings??{defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15",serviceTarget:"AWSSecurityTokenServiceV20110615"},serviceId:s?.serviceId??"STS",urlParser:s?.urlParser??at,utf8Decoder:s?.utf8Decoder??bs,utf8Encoder:s?.utf8Encoder??Ps}),Rs=s=>{const e=lt(s),t=()=>e().then(bt),r=Cs(s);return{...r,...s,runtime:"browser",defaultsMode:e,bodyLengthChecker:s?.bodyLengthChecker??yt,credentialDefaultProvider:s?.credentialDefaultProvider??(n=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:s?.defaultUserAgentProvider??gt({serviceId:r.serviceId,clientVersion:Es.version}),maxAttempts:s?.maxAttempts??ft,region:s?.region??ht("Region is missing"),requestHandler:Bt.create(s?.requestHandler??t),retryMode:s?.retryMode??(async()=>(await t()).retryMode||pt),sha256:s?.sha256??mt,streamCollector:s?.streamCollector??Vt,useDualstackEndpoint:s?.useDualstackEndpoint??(()=>Promise.resolve(Et)),useFipsEndpoint:s?.useFipsEndpoint??(()=>Promise.resolve(St))}},Ds=s=>{const e=s.httpAuthSchemes;let t=s.httpAuthSchemeProvider,r=s.credentials;return{setHttpAuthScheme(n){const o=e.findIndex(i=>i.schemeId===n.schemeId);o===-1?e.push(n):e.splice(o,1,n)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(n){t=n},httpAuthSchemeProvider(){return t},setCredentials(n){r=n},credentials(){return r}}},Is=s=>({httpAuthSchemes:s.httpAuthSchemes(),httpAuthSchemeProvider:s.httpAuthSchemeProvider(),credentials:s.credentials()}),_s=(s,e)=>{const t=Object.assign(Pt(s),wt(s),Qt(s),Ds(s));return e.forEach(r=>r.configure(t)),Object.assign(s,Tt(t),xt(t),qt(t),Is(t))};class Me extends At{config;constructor(...[e]){const t=Rs(e||{});super(t),this.initConfig=t;const r=gs(t),n=Ct(r),o=Rt(n),i=Dt(o),a=zt(i),c=It(a),u=fs(c),l=_s(u,e?.extensions||[]);this.config=l,this.middlewareStack.use(_t(this.config)),this.middlewareStack.use(Nt(this.config)),this.middlewareStack.use($t(this.config)),this.middlewareStack.use(vt(this.config)),this.middlewareStack.use(kt(this.config)),this.middlewareStack.use(Mt(this.config)),this.middlewareStack.use(Ft(this.config)),this.middlewareStack.use(Ot(this.config,{httpAuthSchemeParametersProvider:us,identityProviderConfigProvider:async f=>new Lt({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(Ut(this.config))}destroy(){super.destroy()}}class x extends jt{constructor(e){super(e),Object.setPrototypeOf(this,x.prototype)}}class B extends x{name="ExpiredTokenException";$fault="client";constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,B.prototype)}}class Q extends x{name="MalformedPolicyDocumentException";$fault="client";constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),Object.setPrototypeOf(this,Q.prototype)}}class q extends x{name="PackedPolicyTooLargeException";$fault="client";constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),Object.setPrototypeOf(this,q.prototype)}}class G extends x{name="RegionDisabledException";$fault="client";constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),Object.setPrototypeOf(this,G.prototype)}}class J extends x{name="IDPRejectedClaimException";$fault="client";constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),Object.setPrototypeOf(this,J.prototype)}}class X extends x{name="InvalidIdentityTokenException";$fault="client";constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,X.prototype)}}class Z extends x{name="IDPCommunicationErrorException";$fault="client";constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),Object.setPrototypeOf(this,Z.prototype)}}const Ns="Arn",$s="AccessKeyId",vs="AssumeRole",ks="AssumedRoleId",Ms="AssumeRoleRequest",Fs="AssumeRoleResponse",Y="AssumedRoleUser",Os="AssumeRoleWithWebIdentity",Us="AssumeRoleWithWebIdentityRequest",zs="AssumeRoleWithWebIdentityResponse",Ls="Audience",ee="Credentials",js="ContextAssertion",Fe="DurationSeconds",Ws="Expiration",Ks="ExternalId",Hs="ExpiredTokenException",Vs="IDPCommunicationErrorException",Bs="IDPRejectedClaimException",Qs="InvalidIdentityTokenException",qs="Key",Gs="MalformedPolicyDocumentException",Oe="Policy",Ue="PolicyArns",Js="ProviderArn",Xs="ProvidedContexts",Zs="ProvidedContextsListType",Ys="ProvidedContext",er="PolicyDescriptorType",tr="ProviderId",ze="PackedPolicySize",sr="PackedPolicyTooLargeException",rr="Provider",Le="RoleArn",nr="RegionDisabledException",je="RoleSessionName",or="SecretAccessKey",ir="SubjectFromWebIdentityToken",te="SourceIdentity",ar="SerialNumber",cr="SessionToken",dr="Tags",ur="TokenCode",lr="TransitiveTagKeys",mr="Tag",pr="Value",hr="WebIdentityToken",fr="arn",gr="accessKeySecretType",_="awsQueryError",N="client",yr="clientTokenType",$="error",v="httpError",k="message",Sr="policyDescriptorListType",We="smithy.ts.sdk.synthetic.com.amazonaws.sts",Er="tagListType",h="com.amazonaws.sts";var br=[0,h,gr,8,0],Pr=[0,h,yr,8,0],Ke=[3,h,Y,0,[ks,Ns],[0,0]],wr=[3,h,Ms,0,[Le,je,Ue,Oe,Fe,dr,lr,Ks,ar,ur,te,Xs],[0,0,()=>Ve,0,1,()=>Ur,64,0,0,0,0,()=>Or]],Tr=[3,h,Fs,0,[ee,Y,ze,te],[[()=>He,0],()=>Ke,1,0]],xr=[3,h,Us,0,[Le,je,hr,tr,Ue,Oe,Fe],[0,0,[()=>Pr,0],0,()=>Ve,0,1]],Ar=[3,h,zs,0,[ee,ir,Y,ze,rr,Ls,te],[[()=>He,0],0,()=>Ke,1,0,0,0]],He=[3,h,ee,0,[$s,or,cr,Ws],[0,[()=>br,0],0,4]],Cr=[-3,h,Hs,{[$]:N,[v]:400,[_]:["ExpiredTokenException",400]},[k],[0]];C.for(h).registerError(Cr,B);var Rr=[-3,h,Vs,{[$]:N,[v]:400,[_]:["IDPCommunicationError",400]},[k],[0]];C.for(h).registerError(Rr,Z);var Dr=[-3,h,Bs,{[$]:N,[v]:403,[_]:["IDPRejectedClaim",403]},[k],[0]];C.for(h).registerError(Dr,J);var Ir=[-3,h,Qs,{[$]:N,[v]:400,[_]:["InvalidIdentityToken",400]},[k],[0]];C.for(h).registerError(Ir,X);var _r=[-3,h,Gs,{[$]:N,[v]:400,[_]:["MalformedPolicyDocument",400]},[k],[0]];C.for(h).registerError(_r,Q);var Nr=[-3,h,sr,{[$]:N,[v]:400,[_]:["PackedPolicyTooLarge",400]},[k],[0]];C.for(h).registerError(Nr,q);var $r=[3,h,er,0,[fr],[0]],vr=[3,h,Ys,0,[Js,js],[0,0]],kr=[-3,h,nr,{[$]:N,[v]:403,[_]:["RegionDisabledException",403]},[k],[0]];C.for(h).registerError(kr,G);var Mr=[3,h,mr,0,[qs,pr],[0,0]],Fr=[-3,We,"STSServiceException",0,[],[]];C.for(We).registerError(Fr,x);var Ve=[1,h,Sr,0,()=>$r],Or=[1,h,Zs,0,()=>vr],Ur=[1,h,Er,0,()=>Mr],zr=[9,h,vs,0,()=>wr,()=>Tr],Hr=[9,h,Os,0,()=>xr,()=>Ar];class Lr extends Wt.classBuilder().ep(ys).m(function(e,t,r,n){return[Kt(r,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(zr).build(){}const Vr=Object.freeze(Object.defineProperty({__proto__:null,AssumeRoleCommand:Lr,STSClient:Me},Symbol.toStringTag,{value:"Module"}));export{Hr as A,He as C,Cr as E,Rr as I,_r as M,Nr as P,kr as R,Me as S,Mr as T,x as a,Lr as b,ys as c,Ke as d,wr as e,Tr as f,xr as g,Ar as h,Dr as i,Ir as j,$r as k,vr as l,Fr as m,zr as n,B as o,Q as p,q,G as r,J as s,X as t,Z as u,Vr as v};
